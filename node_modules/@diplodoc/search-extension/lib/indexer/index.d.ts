import type { DocPageData } from '@diplodoc/components';
import lunr from 'lunr';
import { html2text } from './html';
export { html2text };
type DocumentInfo = {
    title: string;
    content: string;
    keywords: string[];
};
export declare enum ReleaseFormat {
    JSONP = "jsonp",
    RAW = "raw"
}
export declare class Indexer {
    private indices;
    private docs;
    /**
     * Stores list of current non empty language indexes.
     */
    get langs(): string[];
    /**
     * Adds new entry to search index
     *
     * @param lang - index language
     * @param url - document url, used as index uniq id
     * @param data - document json data
     *
     * @returns {void}
     */
    add(lang: string, url: string, data: Pick<DocPageData, 'title' | 'html' | 'meta' | 'leading'>): void;
    /**
     * Dumps index and registry for target language.
     *
     * @param lang - index language
     * @param format - output format
     *
     * @returns {{index: Index, registry: Registry}}
     */
    release(lang: string, format?: ReleaseFormat): {
        index: string;
        registry: string;
    } | {
        index: lunr.Index;
        registry: Record<string, DocumentInfo>;
    };
    private init;
}
